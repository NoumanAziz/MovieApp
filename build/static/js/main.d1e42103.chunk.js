(this.webpackJsonpreact_movie_db_course=this.webpackJsonpreact_movie_db_course||[]).push([[0],{30:function(e,t,a){e.exports=a(61)},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),i=(a(35),a(13)),l=(a(36),function(){return r.a.createElement("div",{className:"rmdb-header"},r.a.createElement("div",{className:"rmdb-header-content"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{className:"rmdb-logo",src:"./images/reactMovie_logo.png",alt:"rmdb logo"})),r.a.createElement("img",{className:"rmdb-tmdb-logo",src:"./images/tmdb_logo.png",alt:"tmdb logo"})))}),s=a(2),m=a(17),u=a(15),v=a(9),d=a(10),p=a(12),h=a(11),g=(a(41),function(e){var t=e.image,a=e.title,n=e.text;return r.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom , rgba(0,0,0,0)39%,\n            rgba(0,0,0,0.35)45%, rgba(0,0,0,0.7)100%), \n            url(".concat(t,"), #1c1c1c")}},r.a.createElement("div",{className:"rmdb-heroimage-content"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,a),r.a.createElement("p",null,n))))}),f="https://api.themoviedb.org/3/",b="1027d483470f55624ec1653325e56aa9",E="http://image.tmdb.org/t/p/",N=a(8),y=a(4),I=(a(45),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.doSearch=function(t){e.setState({value:t.target.value}),t.persist(),setTimeout((function(){return e.props.callback(!1,e.state.value)}),500)},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-searchbar"},r.a.createElement("div",{className:"rmdb-searchbar-content"},r.a.createElement(N.a,{icon:y.e,className:"rmdb-fa-search ",size:"2x"}),r.a.createElement("input",{type:"search",className:"rmdb-searchbar-input",placeholder:"Search",onChange:this.doSearch})))}}]),a}(r.a.Component)),_=(a(46),function(e){return r.a.createElement("div",{className:"rmdb-grid"},r.a.createElement("div",{className:"rmdb-grid-content"},e.children.map((function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)}))))}),k=(a(47),function(e){return r.a.createElement("div",{className:"rmdb-moviethumb"},e.clickable?r.a.createElement(i.b,{to:{pathname:"/".concat(e.movieId),moviename:"".concat(e.movieName)}},r.a.createElement("img",{src:e.image,alt:"movies thumb"})):r.a.createElement("a",{href:"/".concat(e.movieId)},r.a.createElement("img",{src:e.image,alt:"movies thumb",className:"clickable"})))}),S=(a(48),function(e){var t=e.onLoad;return r.a.createElement("div",{className:"rmdb-loadmorebtn",onClick:function(){return t(!0)}},r.a.createElement(N.a,{icon:y.a,size:"3x",className:"loader"}))}),j=(a(49),function(e){return r.a.createElement("div",{className:"spin"},r.a.createElement(N.a,{icon:y.f,pulse:!0,size:"4x"}))}),O=(a(50),"now_playing"),w=function(e){var t=e.callback;return r.a.createElement("div",{className:"button-bg"},r.a.createElement("button",{className:"now_playing"==O?"btn-active":"btn-passive",onClick:function(){t("now_playing"),O="now_playing"}},"Recent"),r.a.createElement("button",{className:"top_rated"==O?"btn-active":"btn-passive",onClick:function(){t("top_rated"),O="top_rated"}},"Featured"),r.a.createElement("button",{className:"popular"==O?"btn-active":"btn-passive",onClick:function(){t("popular"),O="popular"}},"Popular"))},P=(a(51),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],heroImage:null,loading:!1,currentPage:0,totalPages:0,searchTerm:""},e.endpointTerm=function(t,a,n){return"".concat(f).concat(t,"?api_key=").concat(b,"&language=en-US&query=").concat(n,"&page=\n").concat(a&&e.state.currentPage+1)},e.fetchItems=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({movies:[].concat(Object(u.a)(e.state.movies),Object(u.a)(t.results)),heroImage:e.state.heroImage||t.results[0],loading:!1,currentPage:t.page,totalPages:t.total_pages},(function(){localStorage.setItem("".concat("now_playing"),JSON.stringify(e.state))}))})).catch((function(e){return console.error("Error: ",e)}))},e.onButtonClick=function(t){e.setState({loading:!0,movies:[],heroImage:null}),e.fetchItems(e.endpointTerm("movie/".concat(t),!1,""))},e.updateItems=function(t,a){e.setState({loading:!0,movies:t?Object(u.a)(e.state.movies):[],searchTerm:t?e.state.searchTerm:a},(function(){e.fetchItems(e.state.searchTerm?e.endpointTerm("search/movie",t,e.state.searchTerm):e.endpointTerm("movie/".concat("now_playing"),t,""))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("".concat("now_playing"))){var e=JSON.parse(localStorage.getItem("".concat("now_playing")));this.setState(Object(m.a)({},e))}else this.setState({loading:!0}),this.fetchItems(this.endpointTerm("movie/".concat("now_playing"),!1,""))}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-home"},this.state.heroImage?r.a.createElement("div",null,r.a.createElement(g,{image:"".concat(E).concat("w1280","/").concat(this.state.heroImage.backdrop_path),title:this.state.heroImage.original_title,text:this.state.heroImage.overview})):null,r.a.createElement("div",null,r.a.createElement(I,{callback:this.updateItems}),r.a.createElement(w,{callback:this.onButtonClick}),this.state.movies?r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(_,{header:this.state.searchTerm?"Search Result":"Popular Movies",loading:this.state.loading},this.state.movies.map((function(e,t){return r.a.createElement(k,{key:t,clickable:!0,image:e.poster_path?"".concat(E).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})}))),this.state.loading?r.a.createElement(j,null):null,console.log(this.state.totalPages),this.state.currentPage<this.state.totalPages&&!this.state.loading?r.a.createElement(S,{onLoad:this.updateItems}):null):null))}}]),a}(n.Component)),x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"OoOpss This page doesn't exist"))},M=(a(52),function(e){return r.a.createElement("div",{className:"rmdb-navigation"},r.a.createElement("div",{className:"rmdb-navigation-content"},r.a.createElement(i.b,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,"/ ",e.movieName)))}),T=(a(53),function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)}),C=(a(54),a(55),function(e){var t=e.runTime,a=e.budget,n=e.revenue,c=function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h").concat(a,"m")}(t),o=T(a),i=T(n);return r.a.createElement("div",{className:" rmdb-movieinfobarrrr "},r.a.createElement("p",null,"  ",r.a.createElement(N.a,{icon:y.b,className:"fa-time"})," RunTime: ",c),r.a.createElement("p",null," ",r.a.createElement(N.a,{icon:y.d,className:"fa-budget"}),"   Budget: ",o),r.a.createElement("p",null," ",r.a.createElement(N.a,{icon:y.c,className:"fa-revenue"}),"   Revenue: ",i))}),A=a(22),D=(a(56),a(63)),U=a(28),F=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).interval=void 0,e.state={isAnimated:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.repeat?this.interval=window.setInterval((function(){e.setState({isAnimated:!e.state.isAnimated})}),1e3*this.props.duration):this.setState({isAnimated:!this.state.isAnimated})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(U.a,{start:function(){return{value:e.props.valueStart}},update:function(){return{value:[e.state.isAnimated?e.props.valueEnd:e.props.valueStart],timing:{duration:1e3*e.props.duration,ease:e.props.easingFunction}}}},(function(t){var a=t.value;return e.props.children(a)}))}}]),a}(r.a.Component);F.defaultProps={valueStart:0};var J=F,R=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={valuesIndex:0},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.setState({valuesIndex:(e.state.valuesIndex+1)%e.props.values.length})}),this.props.interval)}},{key:"render",value:function(){return this.props.children(this.props.values[this.state.valuesIndex])}}]),a}(r.a.Component);R.defaultProps={interval:1e3};a(27);var B=function(e){return r.a.createElement("div",{className:"rmdb-movieinfo",style:{background:e.movie.backdrop_path?"url('".concat(E).concat("w1280").concat(e.movie.backdrop_path,"')"):"#0000"}},r.a.createElement(M,{className:"navigationbar",movieName:e.movie.title}),r.a.createElement("div",{className:"rmdb-movieinfo-content"},r.a.createElement("div",{className:"rmdb-movieinfo-thumb"},r.a.createElement(k,{clickable:!1,image:e.movie.poster_path?"".concat(E).concat("w500").concat(e.movie.poster_path):"./images/no_image.jpg",movieId:e.movie.id,movieName:e.movie.original_title})),r.a.createElement("div",{className:"rmdb-movieinfo-text"},r.a.createElement("h1",null,e.movie.title),r.a.createElement("div",{className:"movie-plot"},r.a.createElement("h3",null,"Plot"),r.a.createElement("p",{className:"full-plot"},e.movie.overview),r.a.createElement("p",{className:"half-plot"},e.movie.overview.substring(0,170))),r.a.createElement("div",{className:"above-top"},r.a.createElement("div",{className:"imdb-div"},r.a.createElement("h3",null,"IMDB Rating"),r.a.createElement("div",{className:"circle-bar"},r.a.createElement(J,{valueStart:0,valueEnd:10*e.movie.vote_average,duration:1.4,easingFunction:D.a},(function(e){var t=Math.round(e);return r.a.createElement(A.a,{value:e,text:"".concat(t,"%"),strokeWidth:11,styles:Object(A.b)({pathTransition:"none",pathColor:"rgba(255, 230, 1, 0.457)",textColor:"white",trailColor:"rgba(202, 201, 201, 0.26)"})})})))),r.a.createElement("div",{className:"director-div"},r.a.createElement("div",null,e.directors.lenght>1?r.a.createElement("h3",null,"Directors"):r.a.createElement("h3",null,"Director")),r.a.createElement("div",null,e.directors.map((function(e,t){return r.a.createElement("h5",{key:t},e.name)}))))))),r.a.createElement("div",null,r.a.createElement(C,{runTime:e.movie.runtime,budget:e.movie.budget,revenue:e.movie.revenue})))},L=(a(58),a(59),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,actors:null,directors:[],loading:!1,movies:[],currentPage:0,totalPages:0},e.fetchItems=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),t.status_code?(e.setState({loading:!1}),console.log("No Movie found")):e.setState({movie:t},(function(){var t="".concat(f,"movie/").concat(e.props.match.params.movieId,"/credits?api_key=").concat(b);fetch(t).then((function(e){return e.json()})).then((function(t){var a=t.crew.filter((function(e){return"Director"==e.job})),n=t.cast.filter((function(e){return null!=e.profile_path}));e.setState({actors:n,directors:a});var r="".concat(f,"movie/").concat(e.props.match.params.movieId,"/similar?api_key=").concat(b,"&language=en-US&page=1");e.fetchMore(r)}),(function(){localStorage.setItem("".concat(e.parops.match.params.movieID),JSON.stringify(e.state))}))}))})).catch((function(e){return console.error("Error:",e)}))},e.fetchMore=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({movies:[].concat(Object(u.a)(e.state.movies),Object(u.a)(t.results)),loading:!1,currentPage:t.page,totalPages:t.total_pages})}))},e.loadMore=function(){var t;e.setState({loading:!0}),t="".concat(f,"movie/").concat(e.props.match.params.movieId,"/similar?api_key=").concat(b,"&language=en-US&page=").concat(e.state.currentPage+1),e.fetchMore(t)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("".concat(this.props.match.params.movieId))){var e=JSON.params(localStorage.getItem("".concat(this.props.match.params.movieId)));this.setState(Object(m.a)({},e))}else{this.setState({loading:!0});var t="".concat(f,"movie/").concat(this.props.match.params.movieId,"?api_key=").concat(b,"&language=enUS");this.fetchItems(t)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-movie"},this.state.movie?r.a.createElement(B,{movie:this.state.movie,directors:this.state.directors}):null,this.state.loading?null:r.a.createElement("h1",null,"Similar Movies"),this.state.movies?r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(_,{header:this.state.searchTerm?"Search Result":"Popular Movies",loading:this.state.loading},this.state.movies.map((function(e,t){return r.a.createElement(k,{key:t,clickable:!1,image:e.poster_path?"".concat(E).concat("w500").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})}))),this.state.loading?r.a.createElement(j,null):null,this.state.currentPage<this.state.totalPages&&!this.state.loading?r.a.createElement(S,{text:"Load More",onLoad:this.loadMore}):null):null)}}]),a}(n.Component)),z=function(){return r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:P,exact:!0}),r.a.createElement(s.a,{path:"/:movieId",component:L,exact:!0}),r.a.createElement(s.a,{component:x}))))};a(60);o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d1e42103.chunk.js.map